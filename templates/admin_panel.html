{% extends "base.html" %}

{% block title %}Admin Panel - Family Members{% endblock %}

{% block content %}
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2>Admin Panel - Manage Family Members</h2>
        <a href="{{ url_for('admin_logout') }}" style="padding: 8px 16px; background-color: #6c757d; color: white; border-radius: 4px; text-decoration: none;">Logout</a>
    </div>
    
    <div style="margin-bottom: 20px;">
        <a href="{{ url_for('index') }}" style="padding: 8px 16px; background-color: #007bff; color: white; border-radius: 4px; text-decoration: none;">â† Back to Home</a>
    </div>
    
    <!-- Form to add a new family member -->
    <h3>Add Family Member</h3>
    <form method="POST" action="{{ url_for('add_family_member') }}">
        <label for="name">Family Member Name:</label>
        <input type="text" id="name" name="name" required>
        
        <button type="submit" class="btn-primary">Add Member</button>
    </form>

    <!-- Table displaying all family members -->
    <h3>Family Members Pool</h3>
    {% if family_members %}
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for member in family_members %}
            <tr>
                <td>
                    <form method="POST" action="{{ url_for('edit_family_member', member_id=member.id) }}" style="display: inline;">
                        <input type="text" name="name" value="{{ member.name }}" style="width: 300px;">
                        <button type="submit" class="btn-primary" style="font-size: 12px; padding: 5px 10px;">Update</button>
                    </form>
                </td>
                <td>
                    <form method="POST" action="{{ url_for('delete_family_member', member_id=member.id) }}" style="display: inline;">
                        <button type="submit" class="btn-delete" onclick="return confirm('Are you sure? This will also delete all wishes for {{ member.name }}.');">Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p style="text-align: center; color: #666; margin: 40px 0;">
        No family members yet. Add the first one above! ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦
    </p>
    {% endif %}
{% endblock %}
